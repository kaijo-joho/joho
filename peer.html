<!DOCTYPE html>
<html>
   <head>
       <!-- Google tag (gtag.js) ここから-->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZW1B1EX70P"></script>
            <script>
                  window.dataLayer = window.dataLayer || [];
                  function gtag(){dataLayer.push(arguments);}
                  gtag('js', new Date());
                  gtag('config', 'G-ZW1B1EX70P');
            </script>
       <!-- Google tag (gtag.js) ここまで-->
      <link rel="icon" href="./img/favicon.ico" />
    
  <!-- reset CSS -->
  <link rel="styesheet" href="https://unpkg.com/ress/dist/ress.min.css">
  
  <!-- Lightbox2 CDN -->
      <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css" rel="stylesheet">
      <script src="https://code.jquery.com/jquery-1.12.4.min.js" type="text/javascript"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js" type="text/javascript"></script>
        <!-- Highlight.js -->
    <link rel="stylesheet" href="./highlightjs/styles/ks.css">
    <script src="./highlightjs/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    
  <meta charset="UTF-8" />
      <title>海城中学高等学校 情報科</title>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="./js/script.js" type="text/javascript" charset="UTF-8"></script>  <link rel="stylesheet" type="text/css" href="./css/css.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 </head>
<body>

	<div id="headerbar">
        <div id="logo">
            <a href="index.html" title="海城中学高等学校 情報科">
            <img src="./img/logo.png" id="img_logo">
            </a>
        </div>
		<div id="main_title">   
		    <a>HTML最終課題相互評価</a>
		</div>
	</div>

	
 <!----COMMON HEADER END---->	
	<section>
		<article>
      
      <p>
        <form id="searchForm">
          <label for="keyInput">あなたの管理番号：</label>
          <input type="text" id="keyInput" placeholder="管理番号" required max=9999 min=1031>
          <button type="submit">次へ</button>               
        </form>
      </p>

      
      <div class="resultDiv" id="resultDiv"></div>
      
		</article>
	</section>



 

<!-- COMMON FOOTER START -->
	<footer>Copyright(C) Kaijo Junior and Senior High School. All Rights Reserved.</footer>

  <script>
      const prefillUrl = "https://docs.google.com/forms/d/e/1FAIpQLSeDCXp1jZNiG9c18Z-9Ej8suRp7OBn7Z6u_duM-1egoEJlDOA/viewform?usp=pp_url&entry.1466138772="
    
    values = [
        1031, 1062, 1093, 1109, 1124, 1140, 1171, 1202, 1233, 1260, 1291, 1322, 1353, 1369, 1384,
        1442, 1473, 1504, 1520, 1535, 1551, 1582, 1613, 1644, 1671, 1702, 1733, 1764, 1780, 1795,
        1884, 1915, 1931, 1946, 1962, 1993, 2008, 2024, 2055, 2082, 2113, 2144, 2175, 2191, 2206,
        2222, 2295, 2326, 2342, 2357, 2373, 2388, 2404, 2435, 2466, 2493, 2524, 2555, 2586, 2602,
        2617, 2633, 2664, 2737, 2753, 2768, 2784, 2799, 2846, 2877, 2904, 2935, 2966, 2997, 3013,
        3028, 3044, 3075, 3164, 3195, 3210, 3226, 3257, 3288, 3315, 3346, 3377, 3408, 3424, 3439,
        3455, 3486, 3517, 3575, 3590, 3606, 3621, 3637, 3668, 3699, 3726, 3757, 3788, 3819, 3835,
        3850, 3866, 3897, 3928, 3959, 3986, 4017, 4032, 4048, 4079, 4110, 4168, 4199, 4230, 4246,
        4261, 4277, 4308, 4339, 4370, 4397, 4428, 4459, 4490, 4506, 4521, 4579, 4610, 4641, 4657,
        4672, 4688, 4719, 4750, 4781, 4808, 4839, 4870, 4901, 4917, 4932, 5021, 5052, 5068, 5083,
        5099, 5114, 5130, 5145, 5161, 5192, 5219, 5250, 5281, 5312, 5328, 5343, 5359, 5463, 5479,
        5494, 5510, 5525, 5541, 5572, 5603, 5630, 5661, 5692, 5723, 5739, 5754, 5770, 5801, 5874,
        5890, 5905, 5921, 5936, 5952, 5983, 6014, 6041, 6072, 6103, 6134, 6150, 6165, 6181, 6212,
        6301, 6316, 6347, 6363, 6394, 6425, 6452, 6483, 6514, 6545, 6561, 6576, 6592, 6623, 6654,
        6712, 6743, 6758, 6774, 6805, 6836, 6863, 6894, 6925, 6956, 6972, 6987, 7003, 7034, 7065,
        7096, 7123, 7154, 7169, 7185, 7216, 7247, 7305, 7336, 7367, 7383, 7398, 7414, 7445, 7476,
        7507, 7534, 7565, 7596, 7627, 7643, 7658, 7747, 7778, 7794, 7809, 7825, 7856, 7887, 7918,
        7945, 7976, 8007, 8038, 8054, 8069, 8085, 8158, 8189, 8205, 8220, 8236, 8251, 8267, 8298,
        8329, 8356, 8387, 8418, 8449, 8465, 8480, 8496, 8600, 8616, 8631, 8647, 8662, 8678, 8709,
        8740, 8767, 8798, 8829, 8860, 8876, 8891, 8907, 8938, 9027, 9042, 9058, 9073, 9089, 9151,
        9178, 9209, 9240, 9271, 9287, 9302, 9318, 9349, 9380, 9438, 9453, 9469, 9484, 9500, 9531,
        9562, 9589, 9620, 9651, 9682, 9698, 9713, 9729, 9760, 9791, 9849, 9880, 9895, 9911, 9942, 
        9973
      ]

      // フォームの要素を取得
      const form = document.getElementById("searchForm");
      const keyInput = document.getElementById("keyInput");
      const resultDiv = document.getElementById("resultDiv");

      // フォームの送信イベントを監視
      form.addEventListener("submit", function(event) {
          event.preventDefault(); // ページリロードを防止

          const key = keyInput.value.trim(); // 入力されたキーを取得
        
          var n = -1;
          for(var i=0; i<values.length; i++){
            if(values[i] == key){
              n = i;
              break;
            }
          }
        
          if(n == -1){
            resultDiv.innerHTML = `管理番号${key}は見つかりません。`;
            return;
          } else {
            var html = ``;
            html += `<p>あなたが評価するページ</p>`;
            
            html += `<ul>`;
            
            target = n + 1;
            
            var targets = [];
            
            for(var i=0;i<10;i++){
              targets.push(target);
              target = target + Math.floor(values.length / 7);
              if(target >= values.length){
                target = target - values.length;
              }
            }
            
            targets.sort((a, b) => a - b);

            for(var i=0; i<targets.length;i++){
              var target = targets[i];

              var gr = Math.floor(values[target] / 1000);
              var num = values[target] % 1000;

              html += `<li>`;
              html += `<a href="./${gr}/${num}/index.html" target="_blank">${values[target]}</a>`;
              html += `<span style="font-weight:lighter;">（`;
              html += `<a href="${prefillUrl}${values[target]}" target="_blank">相互評価フォーム</a>`;
              html += `）</span>`;
              html += `</li>`;
              
            }

            html += `</ul>`;

            resultDiv.innerHTML = html;
            return;
          }
        

        

          // 入力欄をリセット
          keyInput.value = "";
      });
  </script>
  
  
  
  
  
</body>
</html>
