<!DOCTYPE html>
<html>
   <head>
       <!-- Google tag (gtag.js) ここから-->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZW1B1EX70P"></script>
            <script>
                  window.dataLayer = window.dataLayer || [];
                  function gtag(){dataLayer.push(arguments);}
                  gtag('js', new Date());
                  gtag('config', 'G-ZW1B1EX70P');
            </script>
       <!-- Google tag (gtag.js) ここまで-->
      <link rel="icon" href="./img/favicon.ico" />
    
  <!-- reset CSS -->
  <link rel="styesheet" href="https://unpkg.com/ress/dist/ress.min.css">
  
  <!-- Lightbox2 CDN -->
      <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css" rel="stylesheet">
      <script src="https://code.jquery.com/jquery-1.12.4.min.js" type="text/javascript"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js" type="text/javascript"></script>
        <!-- Highlight.js -->
    <link rel="stylesheet" href="./highlightjs/styles/ks.css">
    <script src="./highlightjs/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    
  <meta charset="UTF-8" />
      <title>海城中学高等学校 情報科</title>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="./js/script.js" type="text/javascript" charset="UTF-8"></script>  <link rel="stylesheet" type="text/css" href="./css/css.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 </head>
<body>
	<header><!-- script_pages.js --></header>

	<div id="headerbar">
        <div id="logo">
            <a href="index.html" title="海城中学高等学校 情報科">
            <img src="./img/logo.png" id="img_logo">
            </a>
        </div>
		<div id="main_title">   
		    <a href="index.html" title="海城中学高等学校 情報科">海城中学高等学校 情報科</a>
		</div>
	</div>
	
	<section>
	    <article>
		    <h1><a id="page_title"></a></h1>
		</article>
	</section>
	
 <!----COMMON HEADER END---->	
	<section>
		<article>
      <h3>ファイルをダウンロード中...</h3>
    </article>
	</section>
	
  
  <script>
    // URLのクエリパラメータからファイル名を取得
    const params = new URLSearchParams(window.location.search);
    const fileName = params.get('file');

    if (fileName) {
      // 絶対パスでファイルを指定
      const filePath = `html/${fileName}`;  // サーバーのルートからの絶対パス

      // ファイルをダウンロード
      fetch(filePath)
        .then(response => response.blob())
        .then(blob => {
          const url = window.URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.style.display = 'none';
          a.href = url;
          a.download = fileName; // ダウンロードするファイル名
          document.body.appendChild(a);
          a.click();
          window.URL.revokeObjectURL(url); // 解放
        })
      
        // ダウンロード完了後にタブを閉じる
        setTimeout(() => {
          window.close();  // 新しいタブで開いた場合はタブが閉じる
        }, 1000);  // 1秒後にタブを閉じる
        .catch(() => alert('ダウンロードに失敗しました'));
      
    } else {
      alert('ダウンロードするファイルが指定されていません');
    }
  </script>


 

<!-- COMMON FOOTER START -->
	<footer>Copyright(C) Kaijo Junior and Senior High School. All Rights Reserved.</footer>
	<script src="./js/pages.js" type="text/javascript" charset="UTF-8"></script>
    <script src="./js/script_pages.js" type="text/javascript" charset="UTF-8"></script>
</body>
</html>
