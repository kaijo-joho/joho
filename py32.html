<!DOCTYPE html>
<html>
<head>
  <!-- Google tag (gtag.js) ここから-->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZW1B1EX70P"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-ZW1B1EX70P');
  </script>
  <!-- Google tag (gtag.js) ここまで-->
  

  <!-- reset CSS -->
  <link rel="styesheet" href="https://unpkg.com/ress/dist/ress.min.css">
  <!-- Lightbox2 CDN -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-1.12.4.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js" type="text/javascript"></script>
  <!--MathJax-->
  <script src="./js/math-jax.js" type="text/javascript" charset="UTF-8"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <meta charset="UTF-8" />
  <link rel="icon" href="./img/favicon.ico" />
  <title>海城中学高等学校 情報科</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="./js/script.js" type="text/javascript" charset="UTF-8"></script>
  <link rel="stylesheet" type="text/css" href="./css/css.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <header><!-- script_pages.js --></header>
<!----COMMON HEADER END---->  
  
  <section>
    <article>
      <h2 id="headline_1">(1) 関数定義</h2>
      <p>データを与えると、何かしらの結果を返す機能を<strong>関数</strong>といいます。与えるデータを<strong>引数</strong>（ひきすう）といい、返ってくる結果を<strong>戻り値</strong>といいます。</p>
      <p>組み込み関数やモジュールのインポートについては、<a href="./py13.html">1-3. 関数</a> で学びましたが、これ以外にも自分で関数を定義することができます。これを<strong>関数定義</strong>といい、<strong>def文</strong>を使います。文献によっては、<b>ユーザー定義関数</b>や<b>自作関数</b>、あるいは単に<b>関数</b>と表現されています。</p>
      
      <h3>関数の定義（def文）</h3>
      <p><tt>def 関数名(引数, ...):</tt>でユーザー定義関数を定義することができます。行末にはコロン<tt>:</tt>が必要で、最後の<tt>return</tt>まではインデントを下げます。</p>
      <pre class="python example" data-title="関数の定義"><code>
        def 関数名(引数, 引数, 引数, ...):
          # ここに関数で行う処理を記述する
          return 関数の戻り値
		  </code></pre>
      <p>def文の最後には<b>return文</b>を使って関数の<b>戻り値</b>を指定します（戻り値が不要な関数の場合には、return文は省略可能です）。defはdefine(定義する)の略です。</p>
      <p>def文で定義された関数の中で作られた変数は、その関数の中だけで有効です。</p>
      
      <h3>関数の呼び出し</h3>
      <p><tt>変数 = 関数名(引数, ...)</tt>でユーザー定義関数を呼び出し、<b>戻り値</b>を変数に代入すことができます。</p>
      <pre class="python example" data-title="関数の呼び出し"><code>
        変数 = 関数名(引数, 引数, 引数, ...)
      </code></pre>

      <h3>関数の基本形</h3>
      <p>実際のプログラムの中では次のように書きます。関数は呼び出す前に定義する必要があります。また、関数を定義した後は<b>２行の空白行</b>を入れることが推奨されています。</p>
      <pre class="python example" data-title="関数の定義と呼び出し"><code>
        def 関数名(引数, 引数, 引数, ...):    # ここからが関数（関数は呼び出されたところで実行される）
          # ここに関数で行う処理を記述する
          return 関数の戻り値    # returnまでが関数
                
                
        # ここからがメインの処理
        変数 = 関数名(引数, 引数, 引数, ...)   # 関数の呼び出し
      </code></pre>
      
      <h3>三角形の面積を求める関数</h3>
      <p>次の例では、底辺<tt>base</tt>と高さ<tt>height</tt>から三角形の面積を求めて返す関数<tt>triangle_area</tt>を定義し、底辺<tt>3</tt>，高さ<tt>4</tt>の三角形の面積を表示します。</p>
      <pre class="python"><code>
        def triangle_area(base, height):   # 関数を定義。引数としてbaseとheightの２つの値を受け取る。
          area = base * height / 2       # 関数内の処理。baseとheightをかけて２で割り、面積areaに代入する。
          return area                    # 関数はここまで。returnでareaの値を返す。


        area = triangle_area(3, 4)         # 関数の呼び出し。3と4の値を関数triangle_areaに渡し、areaに代入。
        print(area)                        # areaを出力
      </code></pre>
      <pre class="result"><code>6.0</code></pre>

    </article>
    
    <article>
      <h2 id="headline_2">(2) 関数定義の例</h2>
      
      <h3>例１ セ氏から華氏への換算</h3>
      <p>日本では温度の単位は℃を用い、これをセルシウス温度（セ氏温度）といいます。北米など一部の地域では、単位が「°F」のファーレンハイト温度（華氏温度）を用いています。華氏温度は1724年ドイツの物理学者ファーレンハイトが次のように定めた温度である。当時ファーレンハイトが自宅で図ることができた最も低い温度を0度、ファーレンハイト自身の体温を100度とすることで、マイナス表記のない温度を表現しようとしました。華氏温度は、セ氏温度を５分の９倍し３２を足すことで求められます。</p>
      <p>セ氏温度を華氏温度に変換する関数<tt>celsius_to_fahrenheit</tt>を定義し、セ氏入力すると華氏温度を出力するプログラムを書きなさい。</p>
      <pre class="python" data-title="セ氏から華氏への換算"><code>
        def celsius_to_fahrenheit(x):    # セ氏から華氏に換算する関数
          y = x * 9 / 5 + 32
          return y
                
                
        celsius = float(input("セ氏温度 = "))    # セ氏を入力し、float型に変換
        fahrenheit = celsius_to_fahrenheit(celsius)    # ※関数を呼び出して、戻り値を代入
        print("セ氏", celsius, "度 は、華氏", fahrenheit, "度 です。")
      </code></pre>
      <pre class="result"><code>
        セ氏温度 = 36.4    # 36.4と入力
        セ氏 36.4度 は、華氏97.52度 です。
      </code></pre>
      <p>※変数<tt>celsius</tt>を引数として換算する関数<tt>celsius_to_fahrenheit</tt>を関数の呼び出し、その戻り値を変数<tt>fahrenheit</tt>に代入しています。</p>
      
      <h3>例２ 二次方程式の解</h3>
      
      <p>二次方程式の係数a, b, cを引数として受け取り、戻り値として二次方程式の解を返す関数<tt>quadratic_formula</tt>を定義し、解を出力するプログラムを書きなさい。ただし、<tt>quadratic_formula</tt>関数の戻り値は、解なしの場合は<tt>False</tt>，重解の場合は<b>float型</b>，異なる2つの解の場合は<b>リスト</b><tt>[x1, x2]</tt>とし、戻り値の種類によって条件分岐して出力しなさい。</p>
      <pre class="python" data-title="二次方程式の解"><code>
        def quadratic_formula(a, b, c):   # 二次方程式の解を求める関数
          discriminant = b ** 2 - 4 * a * c    # 判別式を求める

          if discriminant < 0:
            return False  # 判別式が負の場合（解なし）、Falseを返す。
          elif discriminant == 0:
            return -b / (2 * a) # 判別式が0と等しい場合（重解）、-b / (2 * a)の値を返す。
          else:
            x1 = (-b - discriminant ** 0.5) / (2 * a)
            x2 = (-b + discriminant ** 0.5) / (2 * a)
            return [x1, x2]     # 判別式が0より大きい場合、2つの解をリストに入れて返す。


        a = float(input("a = "))
        b = float(input("b = "))
        c = float(input("c = "))

        x = quadratic_formula(a, b, c)     # 関数を呼び出して、戻り値を代入する


        if x == False:
          print("解なし")
        elif type(x) == float:    # 重解の判定は、Falseでもなく、リストでもないので、float型で判定する。
          print("x =", x, "（重解）")
        else:
          print("x =", x[0], ", ", x[1])
      </code></pre>
      <pre class="result"><code>
        a = 1     # 1と入力
        b = -5    # -5と入力
        c = 6     # 6と入力
        x = 2.0 , 3.0
      </code></pre>
      
    </article>


  </section>
        
 

   <section id="questions"><!-- script_pages.js --></section>
<!-- COMMON FOOTER START -->
  <section id="next_page"><!-- script_pages.js --></section>

  <footer>Copyright(C) Kaijo Junior and Senior High School. All Rights Reserved.</footer>
    <script src="./js/pages.js" type="text/javascript" charset="UTF-8"></script>
    <script src="./js/script_pages.js" type="text/javascript" charset="UTF-8"></script>
</body>
</html>

